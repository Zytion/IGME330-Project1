<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>PhylloAudio</title>
    <link href="src/style.css" type="text/css" rel="stylesheet" />
    <script type="module" src="./src/loader.js"></script>
</head>

<body>
    <header>
        <h1>PhylloAudio</h1>
    </header>
    <main>
        <div id="sidebyside">
            <canvas width="800" height="600"></canvas>
            <div id="controls">
                <!-- SONG SETTINGS -->
                <div class="input">
                    <button id="playButton" data-playing="no"></button>
                    <button id="fsButton">Fullscreen</button>
                </div>
                <div class="input">
                    <label>Song:
                        <select id="trackSelect">
                            <option value="./media/Unknown.mp3" selected>Unknown for M.E.</option>
                            <option value="./media/leanonme.mp3">Lean on Me</option>
                            <option value="./media/brainpower.mp3">Brain Power</option>
                            <option value="./media/120bpm.mp3">120 BPM Metronome</option>
                        </select>
                    </label>
                    <div class="input" id="fileUpload">
                        <input type="file" name="songUpload" id="songUpload" accept=".mp3,.wav">
                        <label for="songUpload">Add Song</label>
                    </div>

                    <div id="BPM">Song BPM = 124</div>
                    <div id="confidence">Confidence = 100%</div>

                </div>
                <h3 class="input">Song Settings:</h3>
                <div class="input" id="bpmmulti">
                    <div>Multiplier</div>
                    <input type="radio" name="Speed" id="halfspeed">
                    <label for="halfspeed">1/2</label>
                    <input type="radio" name="Speed" id="normalspeed">
                    <label for="normalspeed">Normal</label>
                    <input type="radio" name="Speed" id="doublespeed">
                    <label for="doublespeed">2</label>
                </div>
                <div class="input">
                    Volume: <input type="range" id="volumeSlider" min="0" max="2" value="1" step="0.01">
                    <span id="volumeLabel">???</span>
                </div>
                <!-- PHYLOTAXIS SETTINGS -->
                <div id="philoSettings">
                    <h3 class="input">Phyllotaxy Settings:</h3>
                    <div class="input">
                        <input type="radio" name="type" id="beat">
                        <label for="beat">BPM Based</label>
                        <input type="radio" name="type" id="melody">
                        <label for="melody">Melody Based</label>
                    </div>
                    <div class="input">
                        <label>Color:
                            <select id="colorSelect">
                                <option value="rainbow">Rainbow</option>
                                <option value="candy">Candy</option>
                                <option value="cool">Cool</option>
                                <option value="ocean">Ocean</option>
                                <option value="reverse">Reverse</option>
                            </select>
                        </label>
                    </div>
                    <div id="beatsSettings">
                        <div class="input">
                            <label>Pattern:
                                <select id="patternSelect">
                                    <option value="regular">Regular</option>
                                    <option value="lines">Lines</option>
                                    <option value="spiral">Spiral</option>
                                </select>
                            </label>
                        </div>
                        <!--TODO-->
                        <div class="input">
                            <label>Speed Mode:
                                <select id="speedSelect">
                                    <option value="beats">Beats</option>
                                    <option value="constant">BPM = 124</option>
                                </select>
                            </label>
                        </div>
                        <!--TODO-->
                        <div class="input">
                            <label>Phyllotaxy Size Mode:
                                <select id="philoSizeSelect">
                                    <option value="volume">Volume</option>
                                    <option value="constant">400 Dots</option>
                                </select>
                            </label>
                        </div>
                        <!--TODO-->
                        <div class="input">
                            <label>Dot Size Mode:
                                <select id="circleSizeSelect">
                                    <option value="volume">Volume</option>
                                    <option value="constant">8 pixels wide</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <div class="input">
                        Opacity: <input type="range" id="opacitySlider" min="0.1" max="1" value="1" step="0.01">
                        <span id="opacityLabel">???</span>
                    </div>
                </div>

            </div>
        </div>
        <section id="instructions">
            <h2>Instructions</h2>
            <div>
                The goal of PhyloAudio is to combine phyllotaxy drawing with audio visualization.
            </div>
            <div>
                To start the PhyloAudio, press play. You can upload a song of your choosing as well if you do not like
                the selection. There are plenty of settings to play with to customize your PhyloAudio!
            </div>
            <div>
                <h3>Song Selection</h3>
                You can select a song from the drop down menu. Picking a song will load it into the PhyloAudio player.
                This cacluates the BPM of the song and starts to pull audio data from it.
                <h4>Uploading Audio</h4>
                To upload a song, they must be either in .mp3 or .wav format. Once you upload them, press play and
                listen to your custom song!
                <h4>What is BPM?</h4>
                Beats per minute (BPM) is a measurement of how fast a song is.
                <h4>What is Confidence?</h4>
                The program attempts to filter the song data and count every beat that occurs and then estimates what
                the most likely BPM would be, but it is not an exact process. The confidence value is determined by how
                confident the program is that the listed BPM is correct. A value greater than 50% means that the program
                is very confident that it has the correct BPM.
            </div>
            <div>
                <h3>Song Settings</h3>
                Once a song is loaded you have two settings options for the song. The speed setting is to get show the
                beats in cut time (2x BPM) and half time (1/2x BPM), <b>it does not change how the song is played</b>.
                This
                helps if the flashing is hurting your eyes. You can also adjust how long the song is playing which will
                effect the phyllotaxy size (if that setting is enabled).
            </div>
            <div>
                <h3>Phyllotaxy Settings:</h3>
                <h4>BMP vs Meldoy</h4>
                BMP based drawing will give you a lot more settigns and will draw the phyllotaxy based on the calcuated
                BPM. Melody will disable most settings in order to draw a spiral waveform of the audio data. This draws
                the dot sizes based on how loud the song is at any each second. Because most wavefroms are drawn as a
                bar graph, this set up may not be very intuitive.
                <h4>Color</h4>
                5 different color presets (Raindow, Candy, Cool, Ocean, and Reverse Raindow). These all draw based on
                the position of the circle in the phyllotaxy.
                <h4>Pattern</h4>
                Changes the divergence angle of the phyllotaxy, creating a different type of pattern drawn. (Regular =
                137.5, Lines = 20, Spiral = 4)
                <h4>Speed Mode</h4>
                You can set the speed at which the circles are drawn. Beats means that the entire phyllotaxy is drawn
                per beat of the song. Constant sets the speed to draw the phyllotaxy every 2 seconds.
                <h4>Phyllotaxy Size Mode</h4>
                Determines the size of the phyllotaxy. Volume means the that phyllotaxy scales with how loud the music
                is. Constant will draw 400 circles per phyllotaxy.
                <h4>Dot Size Mode</h4>
                Determines the size of the circles that make up the phyllotaxy. Volume means the that dots scale with
                how loud the music is. Constant will draw circles that are 8 pixels wide.
            </div>
        </section>
    </main>
</body>

</html>